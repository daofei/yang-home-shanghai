                        .module uart.c
                        .area text(rom, con, rel)
 0000                   .dbfile Z:\yang-home-shanghai\smarthome\门禁系统资料\code\uart.c
 0000                   .dbfunc e uart0_init _uart0_init fV
                        .even
 0000           _uart0_init::
 0000                   .dbline -1
 0000                   .dbline 8
 0000           ; #include<iom16v.h>
 0000           ; #include <macros.h>
 0000           ; 
 0000           ; #include "uart.h"
 0000           ; 
 0000           ; //uart0 init. for printf.
 0000           ; void uart0_init(void)
 0000           ; {
 0000                   .dbline 9
 0000           ;  UCSRB = 0x00;                //禁止UART发送和接收
 0000 2224              clr R2
 0002 2AB8              out 0xa,R2
 0004                   .dbline 10
 0004           ;  UCSRA = 0x02;                                  //倍速
 0004 82E0              ldi R24,2
 0006 8BB9              out 0xb,R24
 0008                   .dbline 11
 0008           ;  UCSRC = 0x06;                                  //8位数据
 0008 86E0              ldi R24,6
 000A 80BD              out 0x20,R24
 000C                   .dbline 12
 000C           ;  UBRRL = 0x67;                                  //9600bps
 000C 87E6              ldi R24,103
 000E 89B9              out 0x9,R24
 0010                   .dbline 13
 0010           ;  UBRRH = 0x00;
 0010 20BC              out 0x20,R2
 0012                   .dbline 14
 0012           ;  UCSRB = 0x18;
 0012 88E1              ldi R24,24
 0014 8AB9              out 0xa,R24
 0016                   .dbline -2
 0016           L1:
 0016                   .dbline 0 ; func end
 0016 0895              ret
 0018                   .dbend
