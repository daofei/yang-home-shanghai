                        .module main.c
                        .area text(rom, con, rel)
 0000                   .dbfile Z:\yang-home-shanghai\smarthome\门禁系统资料\code\main.c
 0000                   .dbfunc e main _main fI
                        .even
 0000           _main::
 0000 2297              sbiw R28,2
 0002                   .dbline -1
 0002                   .dbline 18
 0002           ; #include <stdio.h>
 0002           ; #include <string.h>
 0002           ; #include <stdlib.h>
 0002           ; #include <string.h>
 0002           ; 
 0002           ; #include<iom16v.h>
 0002           ; #include <macros.h>
 0002           ; 
 0002           ; #include "init.h"
 0002           ; #include "uart.h"
 0002           ; #include "wg26.h"
 0002           ; #include "util.h"
 0002           ; #include "tips.h"
 0002           ; 
 0002           ; extern unsigned long id_code;
 0002           ; 
 0002           ; int main(void)
 0002           ; {
 0002                   .dbline 19
 0002           ;  port_init();
 0002 0E940000          xcall _port_init
 0006                   .dbline 20
 0006           ;  uart0_init();
 0006 0E940000          xcall _uart0_init
 000A                   .dbline 21
 000A           ;  init_interrupt();
 000A 0E940000          xcall _init_interrupt
 000E                   .dbline 22
 000E           ;  tips_port_init();
 000E 0E940000          xcall _tips_port_init
 0012                   .dbline 24
 0012           ;  //uart0_send_string("uart send...\n");
 0012           ;  PORTB = 0xff;
 0012 8FEF              ldi R24,255
 0014 88BB              out 0x18,R24
 0016 4BC0              xjmp L3
 0018           L2:
 0018                   .dbline 26
 0018           ;  while(1)
 0018           ;  {
 0018                   .dbline 31
 0018           ;   //uart0_send_string("uart send testing...\n");
 0018           ;   //PORTB = 0xff;
 0018           ;   //SEI();
 0018           ;   
 0018           ;   delay_ms(500);
 0018 04EF              ldi R16,500
 001A 11E0              ldi R17,1
 001C 0E940000          xcall _delay_ms
 0020                   .dbline 32
 0020           ;   if(id_code)
 0020 40E0              ldi R20,0
 0022 50E0              ldi R21,0
 0024 60E0              ldi R22,0
 0026 70E0              ldi R23,0
 0028 40900200          lds R4,_id_code+2
 002C 50900300          lds R5,_id_code+2+1
 0030 20900000          lds R2,_id_code
 0034 30900100          lds R3,_id_code+1
 0038 2416              cp R2,R20
 003A 3506              cpc R3,R21
 003C 4606              cpc R4,R22
 003E 5706              cpc R5,R23
 0040 19F1              breq L5
 0042                   .dbline 33
 0042           ;   {
 0042                   .dbline 35
 0042           ;    //printf("sizeof(long)=%x", sizeof(long));
 0042           ;    id_code &= 0x01fffffe;
 0042 4EEF              ldi R20,254
 0044 5FEF              ldi R21,255
 0046 6FEF              ldi R22,255
 0048 71E0              ldi R23,1
 004A 2422              and R2,R20
 004C 3522              and R3,R21
 004E 4622              and R4,R22
 0050 5722              and R5,R23
 0052 30920100          sts _id_code+1,R3
 0056 20920000          sts _id_code,R2
 005A 50920300          sts _id_code+2+1,R5
 005E 40920200          sts _id_code+2,R4
 0062                   .dbline 36
 0062           ;    id_code >>= 1;
 0062 5694              lsr R5
 0064 4794              ror R4
 0066 3794              ror R3
 0068 2794              ror R2
 006A 30920100          sts _id_code+1,R3
 006E 20920000          sts _id_code,R2
 0072 50920300          sts _id_code+2+1,R5
 0076 40920200          sts _id_code+2,R4
 007A                   .dbline 37
 007A           ;    printf("id_code=%d", id_code);
 007A 4882              std y+0,R4
 007C 5982              std y+1,R5
 007E 9101              movw R18,R2
 0080 00E0              ldi R16,<L7
 0082 10E0              ldi R17,>L7
 0084 0E940000          xcall _printf
 0088                   .dbline 38
 0088           ;   }
 0088           L5:
 0088                   .dbline 40
 0088           ;   
 0088           ;   if(id_code == 1392618)
 0088 4AEE              ldi R20,234
 008A 5FE3              ldi R21,63
 008C 65E1              ldi R22,21
 008E 70E0              ldi R23,0
 0090 40900200          lds R4,_id_code+2
 0094 50900300          lds R5,_id_code+2+1
 0098 20900000          lds R2,_id_code
 009C 30900100          lds R3,_id_code+1
 00A0 2416              cp R2,R20
 00A2 3506              cpc R3,R21
 00A4 4606              cpc R4,R22
 00A6 5706              cpc R5,R23
 00A8 11F4              brne L8
 00AA                   .dbline 41
 00AA           ;   {
 00AA                   .dbline 42
 00AA           ;    PORTB = 0x0;
 00AA 2224              clr R2
 00AC 28BA              out 0x18,R2
 00AE                   .dbline 43
 00AE           ;   }
 00AE           L8:
 00AE                   .dbline 44
 00AE           L3:
 00AE                   .dbline 25
 00AE B4CF              xjmp L2
 00B0           X0:
 00B0                   .dbline 45
 00B0           ;  }
 00B0           ;  return 0;
 00B0 0027              clr R16
 00B2 1127              clr R17
 00B4                   .dbline -2
 00B4           L1:
 00B4 2296              adiw R28,2
 00B6                   .dbline 0 ; func end
 00B6 0895              ret
 00B8                   .dbend
                        .area data(ram, con, rel)
 0000                   .dbfile Z:\yang-home-shanghai\smarthome\门禁系统资料\code\main.c
 0000           L7:
 0000                   .blkb 11
                        .area idata
 0000 69645F636F64653D256400    .byte 'i,'d,95,'c,'o,'d,'e,61,37,'d,0
                        .area data(ram, con, rel)
 000B                   .dbfile Z:\yang-home-shanghai\smarthome\门禁系统资料\code\main.c
